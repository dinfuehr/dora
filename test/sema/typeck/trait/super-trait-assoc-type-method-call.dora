trait Callable {
    fn call(): Int64;
}

trait Base {
    type Item: Callable;
}

trait Derived: Base {
    fn invoke(x: Self::Item): Int64 {
        x.call()
    }
}

class MyItem {
    value: Int64,
}

impl Callable for MyItem {
    fn call(): Int64 { self.value }
}

class Foo

impl Base for Foo {
    type Item = MyItem;
}

impl Derived for Foo {}

fn test(foo: Foo) {
    foo.invoke(MyItem(value = 42));
}

fn main() {
    let cx = CX(curr = 0, max = 3);
    assert(cx.next().getOrPanic() == 0);
    assert(cx.next().getOrPanic() == 1);
    assert(cx.next().getOrPanic() == 2);
    assert(cx.next().isNone());
}

trait MyTrait {
    type X;
    fn next(): Option[Self::X];
}

class CX {
    curr: Int64,
    max: Int64
}

impl MyTrait for CX {
    type X = Int64;
    fn next(): Option[Self::X] {
        if self.curr == self.max {
            None[Int64]
        } else {
            let result = Some[Int64](self.curr);
            self.curr = self.curr + 1;
            result
        }
    }
}

fun main() {
    let set = std::HashSet[Int32]();
    assert(set.isEmpty());

    var i = 0I;

    while i < 1000I {
        set.insert(i);
        i = i + 1I;
    }

    assert(set.size() == 1000L);
    assert(set.isEmpty().not());
    assert(set.capacity() == 2048L);
    assert(!set.contains(-1I));
    assert(!set.contains(1000I));

    i = 0I;

    while i < 1000I {
        assert(set.contains(i));
        i = i + 1I;
    }

    i = 900I;

    while i < 1000I {
        set.remove(i);
        assert(!set.contains(i));
        i = i + 1I;
    }

    assert(set.size() == 900L);
    assert(set.isEmpty().not());
    assert(set.capacity() == 2048L);

    i = 0I;

    while i < 900I {
        assert(set.contains(i));
        i = i + 1I;
    }

    i = 300I;

    while i < 900I {
        set.remove(i);
        assert(!set.contains(i));
        i = i + 1I;
    }

    assert(set.size() == 300L);
    assert(set.isEmpty().not());
    assert(set.capacity() == 1024L);
}

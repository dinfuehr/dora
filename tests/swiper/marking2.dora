//= ignore

fn main() {
    let mut list: Option[Foo] = None[Foo];
    let mut i = 1;

    while i <= 10_000_000 {
        list = Some[Foo](Foo(val = i, next = list));
        i = i + 1;
    }

    std::forceCollect();
    std::forceCollect();
    std::forceCollect();
    std::forceCollect();
    std::forceCollect();
}

class Foo {
    val: Int64,
    next: Option[Foo]
}

//= vm-args "--gc-verify"

fun main() {
    let x = Array::<Foo>(16 * 1024);
    x[0] = Foo(4);
    forceMinorCollect();
    assert(x[0] !== nil);
    assert(x[0].a == 4);
}

class Foo(let a: int)
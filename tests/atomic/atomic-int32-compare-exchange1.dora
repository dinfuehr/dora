fun main() {
    let value = std::AtomicInt32(10I);
    assert(value.compareExchange(12I, 20I) == 10I);
    assert(value.get() == 10I);
    assert(value.compareExchange(10I, 15I) == 10I);
    assert(value.get() == 15I);
}
